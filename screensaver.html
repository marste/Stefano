---
layout: default
title: Lampadina Screensaver
permalink: /screensaver/
---

<style>
  html, body {
    margin: 0;
    padding: 0;
    height: 100vh;
    width: 100vw;
    overflow: hidden;
    background: #000;
    transition: background 20s linear;
  }

  body { cursor: default; }

  /* Contenuto normale */
  #content {
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    background: #f8f8f8;
    color: #222;
    text-align: center;
    padding: 2rem;
    box-sizing: border-box;
    transition: opacity 1.5s ease;
  }

  /* Screensaver attivo */
  body.saver {
    background: #000;
    animation: colori 120s linear infinite;
    cursor: none !important;
  }

  body.saver #content { opacity: 0; pointer-events: none; }
  body.saver #lamp   { opacity: 1; }

  #lamp {
    position: fixed;
    top: 50%; left: 50%;
    width: 200px;
    height: 200px;
    margin: -100px 0 0 -100px;
    pointer-events: none;
    opacity: 0;
    transition: opacity 2s;
    z-index: 9999;
  }

  @keyframes colori {
    0%   { background:#000000; }
    25%  { background:#0d001a; }
    50%  { background:#1a001a; }
    75%  { background:#0a0014; }
    100% { background:#000000; }
  }
</style>

<div id="content">
  <h1>Lampadina Screensaver</h1>
  <p>Tra 20 secondi lo schermo diventerà nero con solo la lampadina al centro.</p>
  <p>Perfetto per risparmiare energia su monitor OLED e per non rovinare quelli LCD.</p>
  <p><strong>Clicca, tocca o premi un tasto qualsiasi per riattivare</strong></p>
</div>

<div id="lamp">
  <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
    <circle cx="100" cy="100" r="72" fill="#111" stroke="#333" stroke-width="10"/>
    <path d="M80 135 Q100 170 120 135" fill="none" stroke="#555" stroke-width="14" stroke-linecap="round"/>
    <circle cx="100" cy="82" r="35" fill="#ffdd00" opacity="0.95">
      <animate attributeName="r" values="33;38;33" dur="4s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.8;1;0.8" dur="3s" repeatCount="indefinite"/>
    </circle>
    <circle cx="100" cy="82" r="18" fill="#ffffaa"/>
  </svg>
</div>

<script>
// ← Questa è la parte più importante: usiamo sia document che window
let timer;

function attivaScreensaver() {
  document.body.classList.add('saver');
}

function disattivaScreensaver() {
  document.body.classList.remove('saver');
  clearTimeout(timer);
  timer = setTimeout(attivaScreensaver, 20000); // 20 secondi
}

// Eventi su TUTTO (document + window) e con capture=true per sicurezza
const eventi = ['mousedown','mouseup','mousemove','click','touchstart','touchend','keydown','scroll','wheel'];

eventi.forEach(ev => {
  document.addEventListener(ev, disattivaScreensaver, { capture: true, passive: true });
  window.addEventListener(ev, disattivaScreensaver, { capture: true, passive: true });
});

// Riavvia il timer anche quando la scheda torna in primo piano
document.addEventListener('visibilitychange', () => {
  if (!document.hidden) disattivaScreensaver();
});

// Avvia subito
disattivaScreensaver();
</script>