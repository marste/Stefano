---
layout: default
permalink: /no-adblock/
---

<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="utf-8">
  <title>{{ site.title }} - Disabilita AdBlock</title>
  {% if page.meta_description %}
    <meta name="description" content="{{ page.meta_description }}">
  {% endif %}

  <!-- Stile base -->
  <style>
    html, body { height: 100%; margin: 0; font-family: "Segoe UI", Arial, sans-serif; background: #f5f5f5; }
    .adblock-detected {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 20px;
      box-sizing: border-box;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #fff;
      text-align: center;
    }
    .adblock-box {
      max-width: 600px;
      background: rgba(0,0,0,0.4);
      padding: 40px 30px;
      border-radius: 15px;
      box-shadow: 0 15px 35px rgba(0,0,0,0.3);
    }
    .adblock-box h1 { font-size: 2.8em; margin-bottom: 20px; }
    .adblock-box p { font-size: 1.2em; line-height: 1.6; margin-bottom: 25px; }
    .adblock-box button {
      background: #fff;
      color: #667eea;
      border: none;
      padding: 12px 30px;
      font-size: 1.1em;
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.3s;
    }
    .adblock-box button:hover { background: #f0f0f0; transform: scale(1.05); }
    .content { display: none; } /* contenuto nascosto finché adblock è attivo */
    .content.visible { display: block; }
  </style>
</head>
<body>

  <!-- Messaggio mostrato quando AdBlock è attivo -->
  <div id="adblock-detected" class="adblock-detected">
    <div class="adblock-box">
      <h1>Attenzione: AdBlock rilevato</h1>
      <p>Sembra che tu stia utilizzando un blocco pubblicità.<br>
         Questo sito si sostiene grazie agli annunci non invasivi.<br>
         Per favore, <strong>disabilita AdBlock</strong> per questo sito e ricarica la pagina.</p>
      <button onclick="location.reload();">Ho disabilitato AdBlock – Ricarica</button>
    </div>
  </div>

  <!-- Contenuto reale del sito (nascosto finché adblock è attivo) -->
  <div id="real-content" class="content">
    {{ content }}
  </div>

  <!-- Script di rilevamento AdBlock -->
  <script>
    // Metodo 1: bait classico (funziona con AdBlock Plus, uBlock Origin, ecc.)
    (function() {
      var bait = document.createElement('div');
      bait.setAttribute('class', 'adsbygoogle');
      bait.setAttribute('style', 'position:absolute; top:-10px; left:-10px; width:1px; height:1px;');
      document.body.appendChild(bait);

      setTimeout(function() {
        var detected = (bait.offsetHeight === 0 && bait.offsetWidth === 0) || 
                       window.getComputedStyle(bait).display === 'none';

        if (detected) {
          // AdBlock attivo → lasciamo il messaggio
          document.body.style.overflow = 'hidden';
        } else {
          // Nessun AdBlock → mostriamo il contenuto reale
          document.getElementById('adblock-detected').style.display = 'none';
          document.getElementById('real-content').classList.add('visible');
          document.body.style.overflow = 'auto';
        }
      }, 100);
    })();

    // Metodo 2: richiesta a un file "fake" che viene bloccato dalla maggior parte degli adblocker
    (function() {
      var testAd = new Image();
      testAd.src = '/ads.js?' + Math.random();
      testAd.onload = function() {
        // Se la richiesta riesce → probabilmente nessun adblock
        showContent();
      };
      testAd.onerror = function() {
        // Se fallisce → molto probabilmente adblock attivo
        // (non facciamo nulla, il messaggio rimane)
      };

      // Crea il file fake (se non esiste già) con un piccolo trucco
      setTimeout(function() {
        var script = document.createElement('script');
        script.src = '/ads.js?' + Math.random();
        script.onerror = function() {};
        document.head.appendChild(script);
      }, 200);
    })();

    function showContent() {
      document.getElementById('adblock-detected').style.display = 'none';
      document.getElementById('real-content').classList.add('visible');
      document.body.style.overflow = 'auto';
    }
  </script>

  <!-- File bait che deve esistere nella root del sito (può essere vuoto o con commento) -->
  <!-- Crea un file vuoto chiamato "ads.js" nella root del tuo sito Jekyll -->
  <!-- Oppure puoi usare un file .txt rinominato, basta che esista e sia accessibile -->
</body>
</html>